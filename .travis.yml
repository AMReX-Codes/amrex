dist: xenial

language: python

python:
  - "3.7-dev"

before_install:
  - export PATH=$(echo $PATH | tr ':' "\n" | sed '/\/opt\/python/d' | tr "\n" ":" | sed "s|::|:|g")

addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - mpich
      - g++
      - gfortran
      - libgmp-dev
      - libmpfr-dev
      - pandoc
      - texlive
      - texlive-latex-extra
      - texlive-lang-cjk
      - latexmk
      - doxygen

install:
  - pip install sphinx sphinx_rtd_theme breathe

script: bash ./build_and_deploy.sh

env:
  global:
  - COMMIT_AUTHOR_EMAIL: "atmyers@lbl.gov"

addons:
  apt:
    packages:
      - doxygen
